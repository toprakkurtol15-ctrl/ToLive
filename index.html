<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToLive - Ana Sayfa</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo" onclick="location.reload()">ToLive</div>
        <div class="search-bar"><input type="text" placeholder="Yapay zeka ara..."><button><i class="fa-solid fa-magnifying-glass"></i></button></div>
        <div class="user-options">
            <a href="admin.html" class="upload-link">Video Paylaş</a>
        </div>
    </nav>

    <div class="container">
        <aside class="sidebar">
            <div class="nav-item active"><i class="fa-solid fa-house"></i> Ana Sayfa</div>
            <div class="nav-item"><i class="fa-solid fa-users"></i> Takip Ettiklerim</div>
            <div class="nav-item"><i class="fa-solid fa-robot"></i> AI Dünyası</div>
        </aside>

        <main class="content">
            <div id="video-grid" class="video-grid-system">
                </div>
        </main>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = { /* KENDI CONFIGINIZI BURAYA KOYUN */ };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const aiVideos = [
            { id: 'ai1', title: 'Yapay Zekanın Doğuşu', uploader: 'ToLive_AI', url: 'https://cdn.pixabay.com/vimeo/451424754/ai-50262.mp4?width=1280&hash=07628178' },
            { id: 'ai2', title: 'Geleceğin Robotları', uploader: 'FutureTech', url: 'https://cdn.pixabay.com/vimeo/370211425/network-28532.mp4?width=1280&hash=85e8d38' }
        ];

        async function loadVideos() {
            const grid = document.getElementById('video-grid');
            grid.innerHTML = "";
            aiVideos.forEach(v => addVideo(v, grid));
            
            const querySnapshot = await getDocs(collection(db, "videos"));
            querySnapshot.forEach(doc => addVideo({id: doc.id, ...doc.data()}, grid));
        }

        function addVideo(v, container) {
            container.innerHTML += `
                <div class="video-card" onclick="window.location.href='watch.html?id=${v.id}&url=${encodeURIComponent(v.url)}&title=${encodeURIComponent(v.title)}&uploader=${v.uploader}'">
                    <div class="thumbnail"><img src="https://picsum.photos/seed/${v.id}/300/170"><span class="duration">4K</span></div>
                    <div class="video-info"><h3>${v.title}</h3><p>${v.uploader}</p></div>
                </div>`;
        }
        loadVideos();
    </script>
</body>
</html>
